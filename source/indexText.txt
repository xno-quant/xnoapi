XNO API Library
===============

âš ï¸ Ghi chÃº: TÃ i liá»‡u nÃ y báº¯t Ä‘áº§u báº±ng Tiáº¿ng Viá»‡t cho cá»™ng Ä‘á»“ng Ä‘á»‹a phÆ°Æ¡ng. ğŸŒ PhiÃªn báº£n Tiáº¿ng Anh cÃ³ sáºµn bÃªn dÆ°á»›i â€” cuá»™n xuá»‘ng hoáº·c sá»­ dá»¥ng má»¥c lá»¥c Ä‘á»ƒ Ä‘iá»u hÆ°á»›ng.

ChÃ o má»«ng báº¡n Ä‘áº¿n vá»›i XNO API, thÆ° viá»‡n Python toÃ n diá»‡n cho phÃ¢n tÃ­ch Ä‘á»‹nh lÆ°á»£ng vÃ  truy xuáº¥t dá»¯ liá»‡u tÃ i chÃ­nh, Ä‘Æ°á»£c tá»‘i Æ°u hÃ³a Ä‘áº·c biá»‡t cho thá»‹ trÆ°á»ng tÃ i chÃ­nh Viá»‡t Nam.

Vá»›i sá»© má»‡nh "ÄÆ°a cÃ´ng cá»¥ phÃ¢n tÃ­ch Ä‘á»‹nh lÆ°á»£ng Ä‘áº¿n gáº§n hÆ¡n vá»›i má»i nhÃ  Ä‘áº§u tÆ° Viá»‡t Nam", XNO API liÃªn tá»¥c phÃ¡t triá»ƒn, tÃ­ch há»£p cÃ´ng nghá»‡ hiá»‡n Ä‘áº¡i Ä‘á»ƒ khÃ´ng chá»‰ Ä‘Ã¡p á»©ng nhu cáº§u dá»¯ liá»‡u, mÃ  cÃ²n giÃºp báº¡n xÃ¢y dá»±ng cÃ¡c chiáº¿n lÆ°á»£c giao dá»‹ch thÃ´ng minh vÃ  hiá»‡u quáº£.

âœ¨ TÃ­nh nÄƒng ná»•i báº­t
--------------------

- HoÃ n toÃ n miá»…n phÃ­ & mÃ£ nguá»“n má»Ÿ: Dá»… dÃ ng truy cáº­p vÃ  sá»­ dá»¥ng.
- Giáº£i phÃ¡p Python toÃ n diá»‡n: API thÃ¢n thiá»‡n, dá»… tÃ­ch há»£p.
- Dá»¯ liá»‡u Viá»‡t Nam chuyÃªn sÃ¢u: Cá»• phiáº¿u, chá»‰ sá»‘, phÃ¡i sinh, quá»¹ má»Ÿ, dá»¯ liá»‡u quá»‘c táº¿.
- CÃ´ng cá»¥ phÃ¢n tÃ­ch máº¡nh máº½: Metrics, backtesting, Ä‘Ã¡nh giÃ¡ rá»§i ro.

Tham gia cá»™ng Ä‘á»“ng
------------------

- Website: `xno.vn <https://xno.vn>`_
- Cá»™ng Ä‘á»“ng Quant: `xnoquant.vn <https://xnoquant.vn>`_

ğŸš€ Táº¡i sao chá»n XNO API?
------------------------

XNO API giÃºp rÃºt ngáº¯n thá»i gian xá»­ lÃ½ dá»¯ liá»‡u, há»— trá»£ há»c táº­p, nghiÃªn cá»©u vÃ  xÃ¢y dá»±ng há»‡ thá»‘ng phÃ¢n tÃ­ch giao dá»‹ch Ä‘á»‹nh lÆ°á»£ng hiá»‡u quáº£ â€“ khÃ´ng chá»‰ lÃ  cÃ´ng cá»¥ trÃ­ch xuáº¥t dá»¯ liá»‡u, mÃ  lÃ  ná»n táº£ng Ä‘á»ƒ phÃ¡t triá»ƒn giáº£i phÃ¡p Ä‘áº§u tÆ° thÃ´ng minh cÃ¡ nhÃ¢n.

ğŸ“¦ CÃ i Ä‘áº·t
----------

CÃ i Ä‘áº·t qua PyPI:

.. code-block:: bash

   pip install xnoapi

Hoáº·c tá»« GitHub:

.. code-block:: bash

   git clone https://github.com/xnoproject/xnoapi.git
   pip install ./xnoapi

Báº¯t Ä‘áº§u sá»­ dá»¥ng
---------------

.. code-block:: python

   from xnoapi import client
   from xnoapi.vn.data import stocks, derivatives
   from xnoapi.vn.metrics import Metrics, Backtest_Derivates

   # Khá»Ÿi táº¡o client vá»›i API key
   client(apikey="your_api_key")

ğŸ“š TÃ i liá»‡u & Há»— trá»£
--------------------

- TÃ i liá»‡u trá»±c tuyáº¿n: `https://xnoapi.readthedocs.io <https://xnoapi.readthedocs.io>`_
- HÆ°á»›ng dáº«n chi tiáº¿t: `xno.vn/docs <https://xno.vn/docs>`_
- Há»— trá»£ cá»™ng Ä‘á»“ng: `xnoquant.vn <https://xnoquant.vn>`_

ğŸ¯ VÃ­ dá»¥ sá»­ dá»¥ng cÆ¡ báº£n
-----------------------

Truy xuáº¥t dá»¯ liá»‡u cá»• phiáº¿u vÃ  phÃ¡i sinh Viá»‡t Nam
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

.. code-block:: python

   from xnoapi.vn.data.utils import client
   from xnoapi.vn.data import stocks, derivatives

   # Khá»Ÿi táº¡o client
   client(apikey="your_api_key")

   # Danh sÃ¡ch cá»• phiáº¿u cÃ³ tÃ­nh thanh khoáº£n cao
   liquid_stocks = stocks.list_liquid_asset()
   print("Cá»• phiáº¿u thanh khoáº£n cao:", liquid_stocks)

   # Dá»¯ liá»‡u lá»‹ch sá»­ cá»• phiáº¿u VIC (Vingroup)
   from xnoapi.vn.data import get_stock_hist
   vic_data = get_stock_hist("VIC", resolution='h')
   print("Dá»¯ liá»‡u VIC:")
   print(vic_data.head())

   # Dá»¯ liá»‡u phÃ¡i sinh VN30F1M theo khung thá»i gian 1 phÃºt
   from xnoapi.vn.data import get_derivatives_hist
   vn30f1m_data = get_derivatives_hist("VN30F1M", "1m")
   print("Dá»¯ liá»‡u VN30F1M:")
   print(vn30f1m_data.head())

ğŸ“Š Dá»¯ liá»‡u tÃ i chÃ­nh (Quant Data API v2)
----------------------------------------

Má»™t sá»‘ tiá»‡n Ã­ch dá»¯ liá»‡u Ä‘á»‹nh lÆ°á»£ng tiÃªu biá»ƒu:

.. code-block:: python

   from xnoapi.vn.data import (
       ping,
       get_indices,
       get_market_index_snapshot,
       get_stock_info,
       get_stock_matches,
       get_stock_foreign_trading,
       get_stock_top_price,
   )

   print("Ping:", "OK" if ping() else "FAILED")
   print("Indices:")
   print(get_indices().head())

   print("VNINDEX snapshot:")
   print(get_market_index_snapshot("VNINDEX").head(1))

Quote/Company/Finance (cá»• phiáº¿u Viá»‡t Nam)
-----------------------------------------

.. code-block:: python

   from xnoapi.vn.data.stocks import Quote, Company, Finance

   q = Quote("ACB")
   q.history(start="2024-01-01", end="2024-03-31", interval="1D")
   q.intraday(page_size=200)
   q.price_depth()

   c = Company("HPG")
   c.overview(); c.profile(); c.shareholders(); c.officers(); c.subsidiaries(); c.events(); c.news(); c.ratio_summary()

   f = Finance("ACB")
   f.income_statement(period="year")
   f.balance_sheet(period="year")
   f.cash_flow(period="year")

Quá»¹ má»Ÿ vÃ  Thá»‹ trÆ°á»ng quá»‘c táº¿
----------------------------

.. code-block:: python

   from xnoapi.vn.data.stocks import Fund, Global

   fund = Fund()
   df_funds = fund.listing(fund_type="STOCK")
   fund.filter("RVPIF")

   glb = Global()
   glb.fx("USDVND").quote.history(start="2024-01-01", end="2024-12-31")
   glb.crypto("BTCUSD").quote.history(start="2024-01-01", end="2024-12-31")
   glb.world_index("DJI").quote.history(start="2024-01-01", end="2024-12-31")

ğŸ“ˆ PhÃ¢n tÃ­ch & Backtesting
--------------------------

``xnoapi.vn.metrics.Metrics`` bao gá»“m: Sharpe, Sortino, Calmar, Max Drawdown, Average Gain/Loss, Win Rate, Profit Factor, VaR, Risk of Ruin.

``xnoapi.vn.metrics.Backtest_Derivates`` há»— trá»£ backtest phÃ¡i sinh vá»›i phÃ­ chuáº©n Viá»‡t Nam vÃ  PnL thÃ´/sau phÃ­.

``xnoapi.metrics.TradingBacktest`` cung cáº¥p TP/SL cá»‘ Ä‘á»‹nh vÃ  Trailing SL:

.. code-block:: python

   from xnoapi.metrics import TradingBacktest

   backtester = TradingBacktest(df_with_signals)
   df_tp_sl = backtester.apply_tp_sl(df_with_signals, tp_percentage=2.0, sl_percentage=1.5)

ğŸ“š VÃ­ dá»¥ má»Ÿ rá»™ng (theo README)
-----------------------------

5. Ping + Danh sÃ¡ch chá»‰ sá»‘ + Snapshot VNINDEX
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

.. code-block:: python

   from xnoapi.vn.data import (
       Company, Finance, Fund, Listing, Quote, Global, MSN,
       list_liquid_asset,
       get_indices, get_market_index_snapshot,
       get_stock_foreign_trading, get_stock_matches, get_stock_info, get_stock_top_price,
       Trading,
       get_derivatives_hist,
   )

   print("Ping:", 'OK' if Trading and True else 'Loaded')
   print("Indices:")
   print(get_indices().head(1))

   print("VNINDEX snapshot:")
   print(get_market_index_snapshot('VNINDEX').head(1))

6. ThÃ´ng tin cá»• phiáº¿u HPG (info, matches, top price, foreign)
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

.. code-block:: python

   symbol = 'HPG'
   print("Stock info HPG:")
   print(get_stock_info(symbol).head(1))

   print("Stock matches HPG:")
   print(get_stock_matches(symbol).head(1))

   print("Stock top price HPG:")
   print(get_stock_top_price(symbol).head(1))

   print("Foreign trading:")
   print(get_stock_foreign_trading(symbol).head(1))

7. Company/Finance/Fund/Listing (vÃ­ dá»¥ vá»›i HPG)
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

.. code-block:: python

   comp = Company('HPG')
   print('Company overview:')
   print(comp.overview().head(1))

   print('Company profile:')
   print(comp.profile().head(1))

   fin = Finance('HPG')
   print('Income statement (year):')
   print(fin.income_statement(period='year').head(1))

   f = Fund()
   print('Funds listing (head):')
   print(f.listing().head(1))

   lst = Listing()
   print('Listing symbols_by_exchange:')
   print(lst.symbols_by_exchange())

8. Global quotes
^^^^^^^^^^^^^^^^

.. code-block:: python

   g = Global()
   print('FX EURUSD:')
   df_fx = g.fx('EURUSD').quote.history('2024-01-01', '2024-03-01', '1h')
   print(df_fx.head())

9. Demo backtest MA(20/50) Ä‘Æ¡n giáº£n (VIC, timeframe giá»)
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

.. code-block:: python

   from xnoapi.vn.metrics.backtest import Backtest_Stock
   from xnoapi.vn.data import get_stock_hist
   import pandas as pd

   df = get_stock_hist('VIC', resolution='h')
   df = df[['Date', 'time', 'Close']].dropna().copy()

   close = pd.to_numeric(df['Close'], errors='coerce')
   ma20  = close.rolling(20, min_periods=20).mean()
   ma50  = close.rolling(50, min_periods=50).mean()
   signal = (ma20 > ma50).astype(int).shift(1).fillna(0)

   df['position'] = signal * 100
   bt_input = df[['Date', 'time', 'Close', 'position']]
   bt = Backtest_Stock(bt_input, pnl_type='after_fees')
   # bt.plot_PNL("VIC â€“ MA(20/50) long-only")

ğŸ†• TÃ­nh nÄƒng má»›i
----------------

- Quant Data API v2: OHLCV theo giÃ¢y, order book snapshot, foreign trading, index snapshot
- Quá»¹ má»Ÿ & tÃ i sáº£n quá»‘c táº¿: NAV, danh má»¥c, forex/crypto/world indices
- TP/SL nÃ¢ng cao: Fixed vÃ  Trailing
- Metrics má»Ÿ rá»™ng: Risk of Ruin, VaR, Calmar, Sortino nÃ¢ng cao

ğŸŒŸ Cá»™ng Ä‘á»“ng & ÄÃ³ng gÃ³p
-----------------------

- Website: `xno.vn <https://xno.vn>`_
- Cá»™ng Ä‘á»“ng: `xnoquant.vn <https://xnoquant.vn>`_
- Há»— trá»£: support@xno.vn
- BÃ¡o lá»—i/Ä‘á» xuáº¥t: GitHub Issues

âš ï¸ TuyÃªn bá»‘ miá»…n trÃ¡ch nhiá»‡m
----------------------------

XNO API dÃ nh cho nghiÃªn cá»©u vÃ  sá»­ dá»¥ng cÃ¡ nhÃ¢n. Dá»¯ liá»‡u cÃ³ thá»ƒ khÃ´ng Ä‘áº§y Ä‘á»§ hoáº·c sai lá»‡ch; khÃ´ng khuyáº¿n nghá»‹ dÃ¹ng trá»±c tiáº¿p cho giao dá»‹ch thá»±c táº¿ khi chÆ°a hiá»ƒu rÃµ. TÃ¡c giáº£ khÃ´ng chá»‹u trÃ¡ch nhiá»‡m cho tá»•n tháº¥t phÃ¡t sinh do sá»­ dá»¥ng dá»¯ liá»‡u hoáº·c mÃ£ nguá»“n.

ğŸ“„ Giáº¥y phÃ©p
------------

XNO API phÃ¡t hÃ nh theo giáº¥y phÃ©p MIT. Xem chi tiáº¿t táº¡i `LICENSE <https://github.com/xnoproject/xnoapi/blob/main/LICENSE>`_.
